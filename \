'use client';

import Mermaid from '../components/mermaid';
import flowchartHandler from "../core/flowchartHandler";
import localStorage from "../core/localDatabaseIntergration.ts";

export default function Home() {
  const chartDefinition = 'graph TD; a(start)-->b(end)'
  
  const testFlowchart = `
    addEntry(this,{"number":"9"})@localStorage~9[aisnr-->bhowg];
    addEntry(that,{"number":"10"})@localStorage~+10[bhowg-->corne];
    addEntry(meme,{"number":"21"})@localStorage~=21[corne-->00000];
  `;

  let appIntergrations = {
    'localStorage': new localStorage(),
  }


  let FH: flowchartHandler = new flowchartHandler();

  // console.log(FH.parseFlowchart(testFlowchart).executible);
  FH.executeFlowchart(FH.parseFlowchart(testFlowchart).executible, appIntergrations);
  console.log(appIntergrations.localStorage.database);

  return (
    <Mermaid chart={FH.parseFlowchart(testFlowchart).chart} />
  );
}
